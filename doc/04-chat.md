# 对话功能

## 页面布局

**对话** 页面分为左右两栏：

- **左侧面板**：Bot 列表，显示所有可用 Bot 的头像、名称和类型标签。
- **右侧面板**：对话区域，包含消息列表和输入框。

## 选择 Bot

点击左侧面板中的任意 Bot 即可开始对话。被选中的 Bot 会高亮显示，右侧面板顶部会展示该 Bot 的头像和名称。

如果 Bot 被标记为只读（readonly），顶部会显示只读徽标，输入框将不可用。

## 发送消息

- 在底部输入框中输入内容，按 **Enter** 发送。
- 输入框支持多行文本，按 **Shift + Enter** 可换行。
- 发送后，Bot 的回复会以 **流式** 方式实时显示。

### 中断回复

Bot 正在回复时，发送按钮会变为停止按钮（旋转图标）。点击即可中断当前回复。

## 消息类型

每条消息可以包含多种内容块：

### 文本块
普通文本消息，支持 Markdown 渲染，包括：
- 代码块（带语法高亮）
- 数学公式（KaTeX）
- 流程图（Mermaid）
- 列表、表格、链接等

### 思考块
显示 Bot 的推理过程（如使用支持 thinking 的模型）。默认折叠，点击展开查看。

### 工具调用块
当 Bot 调用工具时，会显示工具名称和执行详情。

### 图片块
Bot 生成的图片会直接在对话中显示。

### 附件块
文件附件以图标和文件名展示。

## Token 用量显示

每条 Bot 回复消息底部会显示 Token 消耗：

- 格式为 `⚡ 11.6k` 这样的简洁数字。
- 悬停后可查看详细的 **输入 Token** 和 **输出 Token** 数量。
- 数字使用 K（千）和 M（百万）缩写。

## 平台标识

来自不同平台的消息会显示来源标签（如 Telegram、飞书等），方便区分消息来源。

## 历史消息

- 对话区域支持向上滚动加载更早的消息。
- 当你滚动到接近顶部时，会自动加载更多历史消息。
- 新消息到来时，如果你没有向上滚动，会自动滚动到底部。

## 注意事项

- Web 端对话仅显示私聊和直接消息，来自 Telegram 群聊等群组的消息不会在 Web 对话界面中展示。
- 如需查看包含群聊在内的完整消息记录，请到 Bot 详情页的 **历史** 标签查看。
