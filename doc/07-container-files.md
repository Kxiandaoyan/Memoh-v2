# 容器与文件

每个 Bot 都运行在独立的容器中，拥有自己的文件系统。容器由 containerd 管理，提供隔离的运行环境。

## 容器管理

### 查看容器信息

Bot 详情页 → **容器** 标签，可以查看：

| 字段 | 说明 |
|------|------|
| 容器 ID | 容器的唯一标识 |
| 状态 | Created / Running / Stopped / Exited |
| 任务 | 容器内任务的运行状态 |
| 命名空间 | containerd 的命名空间 |
| 镜像 | 容器使用的 Docker 镜像 |
| 宿主机路径 | 容器数据在宿主机上的存储路径 |
| 容器路径 | 容器内的数据挂载路径 |
| 创建时间 | 容器创建的时间 |
| 更新时间 | 最后一次状态变更的时间 |

### 容器操作

| 操作 | 说明 |
|------|------|
| 刷新 | 重新获取容器状态 |
| 创建 | 为 Bot 创建新容器（如果尚未创建） |
| 启动 | 启动已停止的容器 |
| 停止 | 停止运行中的容器 |
| 删除 | 删除容器（会弹出确认对话框） |

容器创建后会自动初始化 Bot 的人格文件和工具配置。

### 快照管理

快照功能可以保存容器当前状态的完整副本，用于备份和恢复。

**创建快照**：
1. 输入快照名称。
2. 点击 **创建快照** 按钮。
3. 等待快照创建完成。

**快照列表** 以表格形式展示：
- 名称
- 类型（kind）
- 父快照（parent）
- 创建时间
- 操作按钮

**恢复快照**：点击快照行的 **恢复** 按钮，容器将回退到该快照的状态。

**删除快照**：点击 **删除** 按钮并确认。

## 文件管理

### 浏览文件

Bot 详情页 → **文件** 标签，左侧面板列出容器内的文件：
- 文件名
- 文件大小
- 文件简介

系统会自动隐藏不需要用户修改的系统文件（如 `resolv.conf`）。

### 人格文件

Bot 容器内有几个核心人格文件，它们定义了 Bot 的行为和特征：

| 文件 | 说明 |
|------|------|
| SOUL.md | Bot 的灵魂/核心人格描述 |
| IDENTITY.md | Bot 的身份信息，包括名称、角色定位 |
| TOOLS.md | Bot 可用工具的使用说明 |
| EXPERIMENTS.md | Bot 自进化过程中的实验记录 |
| NOTES.md | Bot 的自由笔记空间 |
| ov.conf | OpenViking 配置文件 |

### 编辑文件

1. 在左侧面板点击文件名。
2. 右侧面板显示文件内容（Markdown/文本格式）。
3. 直接在文本区域中修改内容。
4. 修改后会出现 **保存** 和 **放弃** 按钮。
5. 点击 **保存** 将修改写入容器。

编辑人格文件是自定义 Bot 行为最直接的方式——修改 SOUL.md 可以改变 Bot 的核心个性，修改 IDENTITY.md 可以更新 Bot 的身份认知。

## 共享工作区

除了每个 Bot 独立的容器文件系统，Memoh 还提供 **共享工作区**（左侧导航的"共享工作区"入口）。

共享工作区是一个所有 Bot 都可以访问的公共文件目录，适合存放跨 Bot 共享的配置、数据等。

### 功能

- 目录浏览（支持嵌套目录和面包屑导航）
- 文件查看和编辑
- 新建文件
- 删除文件
- 显示文件大小
